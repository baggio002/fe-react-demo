{"ast":null,"code":"import _classCallCheck from \"/home/zhaohu/workspace/fe-test-demo-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/zhaohu/workspace/fe-test-demo-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/zhaohu/workspace/fe-test-demo-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/zhaohu/workspace/fe-test-demo-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/zhaohu/workspace/fe-test-demo-react/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/zhaohu/workspace/fe-test-demo-react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/zhaohu/workspace/fe-test-demo-react/src/teams.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Row, Grid, Button, Modal } from 'react-bootstrap';\nimport { fetchMember, fetchTeam, fetchList } from './data-utils';\n\nvar Teams =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Teams, _React$Component);\n\n  function Teams(props) {\n    var _this;\n\n    _classCallCheck(this, Teams);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Teams).call(this, props));\n\n    _this.buttonListChangeClick = function () {\n      _this.setState({\n        isTeamPage: !_this.state.isTeamPage\n      }, function () {\n        fetchList(_this.state.isTeamPage, function (list, status) {\n          if (_this.state.isTeamPage) {\n            _this.setState({\n              teams: list,\n              isLoaded: status.isLoaded,\n              error: status.error\n            });\n          } else {\n            _this.setState({\n              members: list,\n              isLoaded: status.isLoaded,\n              error: status.error\n            });\n          }\n        });\n      });\n    };\n\n    _this.state = {\n      error: null,\n      isLoaded: false,\n      isTeamPage: true,\n      teams: [],\n      members: []\n    };\n    _this.buttonListChangeClick = _this.buttonListChangeClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Teams, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetchList(this.state.isTeamPage, function (list, status) {\n        if (_this2.state.isTeamPage) {\n          _this2.setState({\n            teams: list,\n            isLoaded: status.isLoaded,\n            error: status.error\n          });\n        } else {\n          _this2.setState({\n            members: list,\n            isLoaded: status.isLoaded,\n            error: status.error\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          error = _this$state.error,\n          isLoaded = _this$state.isLoaded;\n\n      if (error) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, \"Error: \", error.message);\n      } else if (!isLoaded) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, \"Loading...\");\n      } else {\n        return React.createElement(\"div\", {\n          className: \"container marketing team-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, React.createElement(\"section\", {\n          className: \"jumbotron text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          className: \"jumbotron-heading\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, \"FrontEnd Test Demo\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(Button, {\n          className: \"btn\" + this.state.isTeamPage ? 'btn-primary' : 'btn-secondary' + \"my\",\n          onClick: this.buttonListChangeClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, this.state.isTeamPage ? \"Teams\" : \"Members\")))), React.createElement(ErrorBoundary, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, React.createElement(ListContainer, {\n          teams: this.state.teams,\n          members: this.state.members,\n          isTeamPage: this.state.isTeamPage,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        })));\n      }\n    }\n  }]);\n\n  return Teams;\n}(React.Component);\n\nexport { Teams as default };\n\nvar ListContainer =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(ListContainer, _React$Component2);\n\n  function ListContainer(props) {\n    var _this3;\n\n    _classCallCheck(this, ListContainer);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(ListContainer).call(this, props));\n    _this3.state = {\n      error: null,\n      isLoaded: false,\n      showModal: false,\n      team: {\n        members: []\n      },\n      member: {\n        teams: []\n      },\n      teams: [],\n      members: []\n    };\n    _this3.showModalForDetails = _this3.showModalForDetails.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.dissmissModalForDetails = _this3.dissmissModalForDetails.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    return _this3;\n  }\n\n  _createClass(ListContainer, [{\n    key: \"showModalForDetails\",\n    value: function showModalForDetails(ev, id) {\n      var _this4 = this;\n\n      this.setState({\n        showModal: true,\n        teams: [],\n        members: []\n      });\n\n      if (this.props.isTeamPage) {\n        fetchTeam(id, function (team, status) {\n          _this4.setState({\n            team: team,\n            isLoaded: status.isLoaded,\n            error: status.error\n          });\n\n          var arr = [];\n          team.members.map(function (memberId) {\n            fetchMember(memberId, function (member, status) {\n              arr = _this4.state.members;\n              arr.push(member);\n\n              _this4.setState({\n                members: arr\n              });\n            });\n          });\n        });\n      } else {\n        fetchMember(id, function (member, status) {\n          _this4.setState({\n            member: member,\n            isLoaded: status.isLoaded,\n            error: status.error\n          });\n\n          var arr = [];\n          member.member_teams.map(function (teamId) {\n            fetchTeam(teamId, function (team, status) {\n              arr = _this4.state.teams;\n              arr.push(team);\n\n              _this4.setState({\n                teams: arr\n              });\n            });\n          });\n        });\n      }\n    }\n  }, {\n    key: \"dissmissModalForDetails\",\n    value: function dissmissModalForDetails() {\n      this.setState({\n        showModal: false,\n        teams: [],\n        members: []\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      if (this.props.isTeamPage) {\n        return React.createElement(Grid, {\n          className: \"container marketing\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, React.createElement(DetailsModal, {\n          showModal: this.state.showModal,\n          dissmissModal: this.dissmissModalForDetails,\n          details: this.state.team,\n          members: this.state.members,\n          isTeamPage: this.props.isTeamPage,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }), React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, this.props.teams.map(function (team) {\n          return React.createElement(\"div\", {\n            className: \"col-lg-4\",\n            key: team.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 176\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            className: \"rounded-circle\",\n            src: \"data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\",\n            alt: \"Team Image\",\n            width: \"140\",\n            height: \"140\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 177\n            },\n            __self: this\n          }), React.createElement(\"h2\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 180\n            },\n            __self: this\n          }, team.name), React.createElement(TeamLeader, {\n            teamId: team.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 181\n            },\n            __self: this\n          }), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 182\n            },\n            __self: this\n          }, React.createElement(Button, {\n            className: \"btn btn-secondary\",\n            onClick: function onClick(ev) {\n              _this5.showModalForDetails(ev, team.id);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 182\n            },\n            __self: this\n          }, \"Show Detail \\xBB\")));\n        })));\n      } else {\n        return React.createElement(Grid, {\n          className: \"container marketing\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, React.createElement(DetailsModal, {\n          showModal: this.state.showModal,\n          dissmissModal: this.dissmissModalForDetails,\n          details: this.state.member,\n          teams: this.state.teams,\n          isTeamPage: this.props.isTeamPage,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }), React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, this.props.members.map(function (member) {\n          return React.createElement(\"div\", {\n            className: \"col-lg-4\",\n            key: member.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 198\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            className: \"rounded-circle\",\n            src: \"data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\",\n            alt: \"Team Image\",\n            width: \"140\",\n            height: \"140\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 199\n            },\n            __self: this\n          }), React.createElement(\"h2\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 202\n            },\n            __self: this\n          }, member.username), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 203\n            },\n            __self: this\n          }, \"Name: \", member.name), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 204\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            className: \"btn btn-secondary\",\n            href: \"#\",\n            role: \"button\",\n            onClick: function onClick(ev) {\n              _this5.showModalForDetails(ev, member.id);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 204\n            },\n            __self: this\n          }, \"Show Details \\xBB\")));\n        })));\n      }\n    }\n  }]);\n\n  return ListContainer;\n}(React.Component);\n\nvar TeamLeader =\n/*#__PURE__*/\nfunction (_React$Component3) {\n  _inherits(TeamLeader, _React$Component3);\n\n  function TeamLeader(props) {\n    var _this6;\n\n    _classCallCheck(this, TeamLeader);\n\n    _this6 = _possibleConstructorReturn(this, _getPrototypeOf(TeamLeader).call(this, props));\n    _this6.state = {\n      error: null,\n      isLoaded: false,\n      team: {},\n      member: {}\n    };\n    return _this6;\n  }\n\n  _createClass(TeamLeader, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this7 = this;\n\n      fetchTeam(this.props.teamId, function (team, status) {\n        fetchMember(team.lead, function (member, status) {\n          _this7.setState({\n            member: member,\n            isLoaded: status.isLoaded,\n            error: status.error\n          });\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          error = _this$state2.error,\n          isLoaded = _this$state2.isLoaded,\n          member = _this$state2.member;\n\n      if (error) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244\n          },\n          __self: this\n        }, \"Error: \", error.message);\n      } else if (!isLoaded) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246\n          },\n          __self: this\n        }, \"Loading...\");\n      } else {\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249\n          },\n          __self: this\n        }, \"TeamLeader: \", member.name);\n      }\n    }\n  }]);\n\n  return TeamLeader;\n}(React.Component);\n\nvar DetailsModal =\n/*#__PURE__*/\nfunction (_React$Component4) {\n  _inherits(DetailsModal, _React$Component4);\n\n  function DetailsModal(props) {\n    var _this8;\n\n    _classCallCheck(this, DetailsModal);\n\n    _this8 = _possibleConstructorReturn(this, _getPrototypeOf(DetailsModal).call(this, props));\n    _this8.state = {};\n    return _this8;\n  }\n\n  _createClass(DetailsModal, [{\n    key: \"render\",\n    value: function render() {\n      if (this.props.isTeamPage) {\n        return React.createElement(\"div\", {\n          className: this.props.showModal ? 'display-block' : 'display-none',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265\n          },\n          __self: this\n        }, React.createElement(Modal.Dialog, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        }, React.createElement(Modal.Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267\n          },\n          __self: this\n        }, React.createElement(Modal.Title, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268\n          },\n          __self: this\n        }, this.props.details.name)), React.createElement(Modal.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 273\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 273\n          },\n          __self: this\n        }, \"Leader: \", this.props.details.lead)), React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274\n          },\n          __self: this\n        }, \"Members:\"), React.createElement(ErrorBoundary, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275\n          },\n          __self: this\n        }, React.createElement(MembersForTeamDetails, {\n          members: this.props.members,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        })))), React.createElement(Modal.Footer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281\n          },\n          __self: this\n        }, React.createElement(Button, {\n          bsStyle: \"primary\",\n          onClick: this.props.dissmissModal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 282\n          },\n          __self: this\n        }, \"OK\"))));\n      } else {\n        return React.createElement(\"div\", {\n          className: this.props.showModal ? 'display-block' : 'display-none',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290\n          },\n          __self: this\n        }, React.createElement(Modal.Dialog, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 291\n          },\n          __self: this\n        }, React.createElement(Modal.Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 292\n          },\n          __self: this\n        }, React.createElement(Modal.Title, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 293\n          },\n          __self: this\n        }, this.props.details.username)), React.createElement(Modal.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 296\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 297\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 298\n          },\n          __self: this\n        }, \"Name: \", this.props.details.name), React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 299\n          },\n          __self: this\n        }, \"Teams:\"), React.createElement(ErrorBoundary, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 300\n          },\n          __self: this\n        }, React.createElement(TeamsForMemberDetails, {\n          teams: this.props.teams,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 301\n          },\n          __self: this\n        })))), React.createElement(Modal.Footer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 306\n          },\n          __self: this\n        }, React.createElement(Button, {\n          bsStyle: \"primary\",\n          onClick: this.props.dissmissModal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 307\n          },\n          __self: this\n        }, \"OK\"))));\n      }\n    }\n  }]);\n\n  return DetailsModal;\n}(React.Component);\n\nvar TeamsForMemberDetails =\n/*#__PURE__*/\nfunction (_React$Component5) {\n  _inherits(TeamsForMemberDetails, _React$Component5);\n\n  function TeamsForMemberDetails(props) {\n    var _this9;\n\n    _classCallCheck(this, TeamsForMemberDetails);\n\n    _this9 = _possibleConstructorReturn(this, _getPrototypeOf(TeamsForMemberDetails).call(this, props));\n    _this9.state = {\n      list: []\n    };\n    return _this9;\n  }\n\n  _createClass(TeamsForMemberDetails, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, this.props.teams.map(function (team) {\n        return React.createElement(\"p\", {\n          key: team.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 329\n          },\n          __self: this\n        }, team.name);\n      }));\n    }\n  }]);\n\n  return TeamsForMemberDetails;\n}(React.Component);\n\nvar MembersForTeamDetails =\n/*#__PURE__*/\nfunction (_React$Component6) {\n  _inherits(MembersForTeamDetails, _React$Component6);\n\n  function MembersForTeamDetails(props) {\n    var _this10;\n\n    _classCallCheck(this, MembersForTeamDetails);\n\n    _this10 = _possibleConstructorReturn(this, _getPrototypeOf(MembersForTeamDetails).call(this, props));\n    _this10.state = {\n      list: []\n    };\n    return _this10;\n  }\n\n  _createClass(MembersForTeamDetails, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }, this.props.members.map(function (member) {\n        return React.createElement(\"p\", {\n          key: member.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 350\n          },\n          __self: this\n        }, member.name);\n      }));\n    }\n  }]);\n\n  return MembersForTeamDetails;\n}(React.Component);\n\nvar ErrorBoundary =\n/*#__PURE__*/\nfunction (_React$Component7) {\n  _inherits(ErrorBoundary, _React$Component7);\n\n  function ErrorBoundary(props) {\n    var _this11;\n\n    _classCallCheck(this, ErrorBoundary);\n\n    _this11 = _possibleConstructorReturn(this, _getPrototypeOf(ErrorBoundary).call(this, props));\n    _this11.state = {\n      error: null,\n      errorInfo: null\n    };\n    return _this11;\n  }\n\n  _createClass(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, errorInfo) {\n      // Catch errors in any components below and re-render with error message\n      this.setState({\n        error: error,\n        errorInfo: errorInfo\n      }); // You can also log error messages to an error reporting service here\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.errorInfo) {\n        // Error path\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 377\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 378\n          },\n          __self: this\n        }, \"Something went wrong.\"), React.createElement(\"details\", {\n          style: {\n            whiteSpace: 'pre-wrap'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 379\n          },\n          __self: this\n        }, this.state.error && this.state.error.toString(), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 381\n          },\n          __self: this\n        }), this.state.errorInfo.componentStack));\n      } // Normally, just render children\n\n\n      return this.props.children;\n    }\n  }]);\n\n  return ErrorBoundary;\n}(React.Component);","map":{"version":3,"sources":["/home/zhaohu/workspace/fe-test-demo-react/src/teams.js"],"names":["React","ReactDOM","Row","Grid","Button","Modal","fetchMember","fetchTeam","fetchList","Teams","props","buttonListChangeClick","setState","isTeamPage","state","list","status","teams","isLoaded","error","members","bind","message","Component","ListContainer","showModal","team","member","showModalForDetails","dissmissModalForDetails","ev","id","arr","map","memberId","push","member_teams","teamId","name","username","TeamLeader","lead","DetailsModal","details","dissmissModal","TeamsForMemberDetails","MembersForTeamDetails","ErrorBoundary","errorInfo","whiteSpace","toString","componentStack","children"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {Row, Grid, Button, Modal} from 'react-bootstrap';\nimport {fetchMember, fetchTeam, fetchList} from './data-utils'\n\nexport default class Teams extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            isTeamPage: true,\n            teams: [],\n            members: [],\n        };\n        this.buttonListChangeClick = this.buttonListChangeClick.bind(this);\n    }\n\n    buttonListChangeClick = () => {\n        this.setState({isTeamPage: !this.state.isTeamPage}, () => {\n            fetchList(this.state.isTeamPage, (list, status) => {\n                if (this.state.isTeamPage) {\n                    this.setState({\n                        teams: list,\n                        isLoaded: status.isLoaded,\n                        error: status.error\n                    });\n                } else {\n                    this.setState({\n                        members: list,\n                        isLoaded: status.isLoaded,\n                        error: status.error\n                    });\n                }\n            });\n        });\n    }\n\n\n    componentDidMount() {\n        fetchList(this.state.isTeamPage, (list, status) => {\n            if (this.state.isTeamPage) {\n                this.setState({\n                    teams: list,\n                    isLoaded: status.isLoaded,\n                    error: status.error\n                });\n            } else {\n                this.setState({\n                    members: list,\n                    isLoaded: status.isLoaded,\n                    error: status.error\n                });\n            }\n        });\n    }\n\n    render() {\n        const {error, isLoaded} = this.state;\n        if (error) {\n            return <div>Error: {error.message}</div>;\n        } else if (!isLoaded) {\n            return <div>Loading...</div>;\n        } else {\n            return (\n                <div className=\"container marketing team-container\">\n                    <section className=\"jumbotron text-center\">\n                        <div className=\"container\">\n                            <h1 className=\"jumbotron-heading\">FrontEnd Test Demo</h1>\n                            <p>\n                                <Button\n                                    className={\"btn\" + this.state.isTeamPage ? 'btn-primary' : 'btn-secondary' + \"my\"}\n                                    onClick={this.buttonListChangeClick}>{this.state.isTeamPage ? \"Teams\" : \"Members\"}</Button>\n                            </p>\n                        </div>\n\n                    </section>\n                    <ErrorBoundary>\n                        <ListContainer teams={this.state.teams} members={this.state.members}\n                                       isTeamPage={this.state.isTeamPage}/>\n                    </ErrorBoundary>\n                </div>\n\n            );\n        }\n    }\n}\n\nclass ListContainer extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            showModal: false,\n            team: {members: []},\n            member: {teams: []},\n            teams: [],\n            members: []\n        };\n        this.showModalForDetails = this.showModalForDetails.bind(this);\n        this.dissmissModalForDetails = this.dissmissModalForDetails.bind(this);\n    }\n\n    showModalForDetails(ev, id) {\n        this.setState({\n            showModal: true,\n            teams: [],\n            members: []\n        });\n        if (this.props.isTeamPage) {\n            fetchTeam(id, (team, status) => {\n                this.setState({\n                    team: team,\n                    isLoaded: status.isLoaded,\n                    error: status.error\n                });\n                let arr = [];\n                team.members.map(\n                    (memberId) => {\n                        fetchMember(memberId, (member, status) => {\n                            arr = this.state.members;\n                            arr.push(member);\n                            this.setState({\n                                members: arr\n                            })\n                        })\n                    }\n                );\n            });\n        } else {\n            fetchMember(id, (member, status) => {\n                this.setState({\n                    member: member,\n                    isLoaded: status.isLoaded,\n                    error: status.error\n                });\n                let arr = [];\n                member.member_teams.map(\n                    (teamId) => {\n                        fetchTeam(teamId, (team, status) => {\n                            arr = this.state.teams;\n                            arr.push(team);\n                            this.setState({\n                                teams: arr\n                            })\n                        })\n                    }\n                );\n            });\n        }\n    }\n\n    dissmissModalForDetails() {\n        this.setState({\n            showModal: false,\n            teams: [],\n            members: []\n        });\n    }\n\n    render() {\n        if (this.props.isTeamPage) {\n            return (\n                <Grid className=\"container marketing\">\n                    <DetailsModal showModal={this.state.showModal} dissmissModal={this.dissmissModalForDetails}\n                                  details={this.state.team} members={this.state.members}\n                                  isTeamPage={this.props.isTeamPage}/>\n                    <Row>\n                        {\n                            this.props.teams.map((team) => (\n                                <div className=\"col-lg-4\" key={team.id}>\n                                    <img className=\"rounded-circle\"\n                                         src=\"data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\"\n                                         alt=\"Team Image\" width=\"140\" height=\"140\"/>\n                                    <h2>{team.name}</h2>\n                                    <TeamLeader teamId={team.id}/>\n                                    <p><Button className=\"btn btn-secondary\" onClick={(ev) => {\n                                        this.showModalForDetails(ev, team.id)\n                                    }}>Show Detail »</Button></p>\n                                </div>\n                            ))}\n                    </Row>\n                </Grid>);\n        } else {\n            return (\n                <Grid className=\"container marketing\">\n                    <DetailsModal showModal={this.state.showModal} dissmissModal={this.dissmissModalForDetails}\n                                  details={this.state.member} teams={this.state.teams}\n                                  isTeamPage={this.props.isTeamPage}/>\n                    <Row>\n                        {\n                            this.props.members.map((member) => (\n                                <div className=\"col-lg-4\" key={member.id}>\n                                    <img className=\"rounded-circle\"\n                                         src=\"data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\"\n                                         alt=\"Team Image\" width=\"140\" height=\"140\"/>\n                                    <h2>{member.username}</h2>\n                                    <p>Name: {member.name}</p>\n                                    <p><a className=\"btn btn-secondary\" href=\"#\" role=\"button\" onClick={(ev) => {\n                                        this.showModalForDetails(ev, member.id)\n                                    }}>Show Details »</a></p>\n                                </div>\n                            ))}\n                    </Row>\n                </Grid>);\n        }\n    }\n}\n\nclass TeamLeader extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            team: {},\n            member: {}\n        };\n    }\n\n    componentDidMount() {\n        fetchTeam(this.props.teamId, (team, status) => {\n            fetchMember(team.lead, (member, status) => {\n                this.setState(\n                    {\n                        member: member,\n                        isLoaded: status.isLoaded,\n                        error: status.error\n                    }\n                );\n            });\n        });\n    }\n\n    render() {\n        const {error, isLoaded, member} = this.state;\n\n        if (error) {\n            return <div>Error: {error.message}</div>;\n        } else if (!isLoaded) {\n            return <div>Loading...</div>;\n        } else {\n            return (\n                <p>TeamLeader: {member.name}</p>\n            );\n        }\n    }\n}\n\nclass DetailsModal extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n\n    render() {\n\n        if (this.props.isTeamPage) {\n            return (\n                <div className={this.props.showModal ? 'display-block' : 'display-none'}>\n                    <Modal.Dialog>\n                        <Modal.Header>\n                            <Modal.Title>{this.props.details.name}</Modal.Title>\n                        </Modal.Header>\n\n                        <Modal.Body>\n                            <ul>\n                                <li><h4>Leader: {this.props.details.lead}</h4></li>\n                                <h6>Members:</h6>\n                                <ErrorBoundary>\n                                    <MembersForTeamDetails members={this.props.members}/>\n                                </ErrorBoundary>\n                            </ul>\n                        </Modal.Body>\n\n                        <Modal.Footer>\n                            <Button bsStyle=\"primary\" onClick={this.props.dissmissModal}>OK</Button>\n                        </Modal.Footer>\n                    </Modal.Dialog>\n                </div>\n            );\n        } else {\n\n            return (\n                <div className={this.props.showModal ? 'display-block' : 'display-none'}>\n                    <Modal.Dialog>\n                        <Modal.Header>\n                            <Modal.Title>{this.props.details.username}</Modal.Title>\n                        </Modal.Header>\n\n                        <Modal.Body>\n                            <ul>\n                                <h3>Name: {this.props.details.name}</h3>\n                                <h6>Teams:</h6>\n                                <ErrorBoundary>\n                                    <TeamsForMemberDetails teams={this.props.teams}/>\n                                </ErrorBoundary>\n                            </ul>\n                        </Modal.Body>\n\n                        <Modal.Footer>\n                            <Button bsStyle=\"primary\" onClick={this.props.dissmissModal}>OK</Button>\n                        </Modal.Footer>\n                    </Modal.Dialog>\n                </div>\n            );\n        }\n    }\n}\n\nclass TeamsForMemberDetails extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            list: []\n        };\n    }\n\n    render() {\n        return (\n            <div>\n                {this.props.teams.map(\n                    (team) => (\n                        <p key={team.id}>{team.name}</p>\n                    )\n                )}\n            </div>\n        );\n    }\n}\n\nclass MembersForTeamDetails extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            list: []\n        };\n    }\n\n    render() {\n        return (\n            <div>\n                {this.props.members.map(\n                    (member) => (\n                        <p key={member.id}>{member.name}</p>\n                    )\n                )}\n            </div>\n        );\n    }\n}\n\nclass ErrorBoundary extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {error: null, errorInfo: null};\n    }\n\n    componentDidCatch(error, errorInfo) {\n        // Catch errors in any components below and re-render with error message\n        this.setState({\n            error: error,\n            errorInfo: errorInfo\n        })\n        // You can also log error messages to an error reporting service here\n    }\n\n    render() {\n        if (this.state.errorInfo) {\n            // Error path\n            return (\n                <div>\n                    <h2>Something went wrong.</h2>\n                    <details style={{whiteSpace: 'pre-wrap'}}>\n                        {this.state.error && this.state.error.toString()}\n                        <br/>\n                        {this.state.errorInfo.componentStack}\n                    </details>\n                </div>\n            );\n        }\n        // Normally, just render children\n        return this.props.children;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}