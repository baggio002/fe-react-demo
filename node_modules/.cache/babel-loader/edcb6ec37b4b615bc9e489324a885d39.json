{"ast":null,"code":"import _classCallCheck from \"/home/zhaohu/workspace/fe-test-demo-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/zhaohu/workspace/fe-test-demo-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/zhaohu/workspace/fe-test-demo-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/zhaohu/workspace/fe-test-demo-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/zhaohu/workspace/fe-test-demo-react/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/zhaohu/workspace/fe-test-demo-react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/zhaohu/workspace/fe-test-demo-react/src/teams.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Row, Grid, Button, Modal } from 'react-bootstrap';\nimport { fetchMember, fetchTeam, fetchList } from './data-utils';\n\nvar Teams =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Teams, _React$Component);\n\n  function Teams(props) {\n    var _this;\n\n    _classCallCheck(this, Teams);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Teams).call(this, props));\n    _this.state = {\n      error: null,\n      isLoaded: false,\n      showModal: false,\n      team: {\n        members: []\n      },\n      member: {\n        teams: []\n      },\n      teams: [],\n      members: []\n    };\n    _this.showModalForDetails = _this.showModalForDetails.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.dissmissModalForDetails = _this.dissmissModalForDetails.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Teams, [{\n    key: \"showModalForDetails\",\n    value: function showModalForDetails(ev, id) {\n      var _this2 = this;\n\n      this.setState({\n        showModal: true,\n        teams: [],\n        members: []\n      });\n      fetchTeam(id, function (team, status) {\n        _this2.setState({\n          team: team,\n          isLoaded: status.isLoaded,\n          error: status.error\n        });\n\n        var arr = [];\n        team.members.map(function (memberId) {\n          fetchMember(memberId, function (member, status) {\n            arr = _this2.state.members;\n            arr.push(member);\n\n            _this2.setState({\n              members: arr\n            });\n          });\n        });\n      });\n    }\n  }, {\n    key: \"dissmissModalForDetails\",\n    value: function dissmissModalForDetails() {\n      this.setState({\n        showModal: false,\n        teams: []\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      fetchList(true, function (teams, status) {\n        if (status.isLoaded && status.error == null) {\n          var arr = [];\n          teams.map(function (team) {\n            fetchMember(team.lead, function (leader, status) {\n              team.lead = leader;\n              arr.push(team);\n\n              _this3.setState({\n                teams: arr\n              });\n            });\n          });\n        }\n\n        _this3.setState({\n          isLoaded: status.isLoaded,\n          error: status.error\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(Grid, {\n        className: \"container marketing\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(DetailsModal, {\n        showModal: this.state.showModal,\n        dissmissModal: this.dissmissModalForDetails,\n        details: this.state.team,\n        members: this.state.members,\n        isTeamPage: this.props.isTeamPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, this.state.teams.map(function (team) {\n        return React.createElement(\"div\", {\n          className: \"col-lg-4\",\n          key: team.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          className: \"rounded-circle\",\n          src: \"data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\",\n          alt: \"Team Image\",\n          width: \"140\",\n          height: \"140\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }), React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, team.name), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, team.lead), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, React.createElement(Button, {\n          className: \"btn btn-secondary\",\n          onClick: function onClick(ev) {\n            _this4.showModalForDetails(ev, team.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, \"Show Detail \\xBB\")));\n      })));\n    }\n  }]);\n\n  return Teams;\n}(React.Component);\n\nexport { Teams as default };\n\nvar DetailsModal =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(DetailsModal, _React$Component2);\n\n  function DetailsModal(props) {\n    var _this5;\n\n    _classCallCheck(this, DetailsModal);\n\n    _this5 = _possibleConstructorReturn(this, _getPrototypeOf(DetailsModal).call(this, props));\n    _this5.state = {};\n    return _this5;\n  }\n\n  _createClass(DetailsModal, [{\n    key: \"render\",\n    value: function render() {\n      if (this.props.isTeamPage) {\n        return React.createElement(\"div\", {\n          className: this.props.showModal ? 'display-block' : 'display-none',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, React.createElement(Modal.Dialog, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, React.createElement(Modal.Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, React.createElement(Modal.Title, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, this.props.details.name)), React.createElement(Modal.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, \"Leader: \", this.props.details.lead)), React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, \"Members:\"), React.createElement(ErrorBoundary, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }, React.createElement(MembersForTeamDetails, {\n          members: this.props.members,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        })))), React.createElement(Modal.Footer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, React.createElement(Button, {\n          bsStyle: \"primary\",\n          onClick: this.props.dissmissModal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, \"OK\"))));\n      } else {\n        return React.createElement(\"div\", {\n          className: this.props.showModal ? 'display-block' : 'display-none',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, React.createElement(Modal.Dialog, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, React.createElement(Modal.Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, React.createElement(Modal.Title, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, this.props.details.username)), React.createElement(Modal.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, \"Name: \", this.props.details.name), React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }, \"Teams:\"), React.createElement(ErrorBoundary, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, React.createElement(TeamsForMemberDetails, {\n          teams: this.props.teams,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        })))), React.createElement(Modal.Footer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, React.createElement(Button, {\n          bsStyle: \"primary\",\n          onClick: this.props.dissmissModal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, \"OK\"))));\n      }\n    }\n  }]);\n\n  return DetailsModal;\n}(React.Component);\n\nvar TeamsForMemberDetails =\n/*#__PURE__*/\nfunction (_React$Component3) {\n  _inherits(TeamsForMemberDetails, _React$Component3);\n\n  function TeamsForMemberDetails(props) {\n    var _this6;\n\n    _classCallCheck(this, TeamsForMemberDetails);\n\n    _this6 = _possibleConstructorReturn(this, _getPrototypeOf(TeamsForMemberDetails).call(this, props));\n    _this6.state = {\n      list: []\n    };\n    return _this6;\n  }\n\n  _createClass(TeamsForMemberDetails, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, this.props.teams.map(function (team) {\n        return React.createElement(\"p\", {\n          key: team.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, team.name);\n      }));\n    }\n  }]);\n\n  return TeamsForMemberDetails;\n}(React.Component);\n\nvar MembersForTeamDetails =\n/*#__PURE__*/\nfunction (_React$Component4) {\n  _inherits(MembersForTeamDetails, _React$Component4);\n\n  function MembersForTeamDetails(props) {\n    var _this7;\n\n    _classCallCheck(this, MembersForTeamDetails);\n\n    _this7 = _possibleConstructorReturn(this, _getPrototypeOf(MembersForTeamDetails).call(this, props));\n    _this7.state = {\n      list: []\n    };\n    return _this7;\n  }\n\n  _createClass(MembersForTeamDetails, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, this.props.members.map(function (member) {\n        return React.createElement(\"p\", {\n          key: member.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207\n          },\n          __self: this\n        }, member.name);\n      }));\n    }\n  }]);\n\n  return MembersForTeamDetails;\n}(React.Component);\n\nvar ErrorBoundary =\n/*#__PURE__*/\nfunction (_React$Component5) {\n  _inherits(ErrorBoundary, _React$Component5);\n\n  function ErrorBoundary(props) {\n    var _this8;\n\n    _classCallCheck(this, ErrorBoundary);\n\n    _this8 = _possibleConstructorReturn(this, _getPrototypeOf(ErrorBoundary).call(this, props));\n    _this8.state = {\n      error: null,\n      errorInfo: null\n    };\n    return _this8;\n  }\n\n  _createClass(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, errorInfo) {\n      // Catch errors in any components below and re-render with error message\n      this.setState({\n        error: error,\n        errorInfo: errorInfo\n      }); // You can also log error messages to an error reporting service here\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.errorInfo) {\n        // Error path\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235\n          },\n          __self: this\n        }, \"Something went wrong.\"), React.createElement(\"details\", {\n          style: {\n            whiteSpace: 'pre-wrap'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236\n          },\n          __self: this\n        }, this.state.error && this.state.error.toString(), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238\n          },\n          __self: this\n        }), this.state.errorInfo.componentStack));\n      } // Normally, just render children\n\n\n      return this.props.children;\n    }\n  }]);\n\n  return ErrorBoundary;\n}(React.Component);","map":{"version":3,"sources":["/home/zhaohu/workspace/fe-test-demo-react/src/teams.js"],"names":["React","ReactDOM","Row","Grid","Button","Modal","fetchMember","fetchTeam","fetchList","Teams","props","state","error","isLoaded","showModal","team","members","member","teams","showModalForDetails","bind","dissmissModalForDetails","ev","id","setState","status","arr","map","memberId","push","lead","leader","isTeamPage","name","Component","DetailsModal","details","dissmissModal","username","TeamsForMemberDetails","list","MembersForTeamDetails","ErrorBoundary","errorInfo","whiteSpace","toString","componentStack","children"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {Row, Grid, Button, Modal} from 'react-bootstrap';\nimport {fetchMember, fetchTeam, fetchList} from './data-utils'\n\nexport default class Teams extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            showModal: false,\n            team: {members: []},\n            member: {teams: []},\n            teams: [],\n            members: []\n        };\n        this.showModalForDetails = this.showModalForDetails.bind(this);\n        this.dissmissModalForDetails = this.dissmissModalForDetails.bind(this);\n    }\n\n    showModalForDetails(ev, id) {\n        this.setState({\n            showModal: true,\n            teams: [],\n            members: []\n        });\n        fetchTeam(id, (team, status) => {\n            this.setState({\n                team: team,\n                isLoaded: status.isLoaded,\n                error: status.error\n            });\n            let arr = [];\n            team.members.map(\n                (memberId) => {\n                    fetchMember(memberId, (member, status) => {\n                        arr = this.state.members;\n                        arr.push(member);\n                        this.setState({\n                            members: arr\n                        })\n                    })\n                }\n            );\n        });\n    }\n\n    dissmissModalForDetails() {\n        this.setState({\n            showModal: false,\n            teams: [],\n        });\n    }\n\n    componentDidMount() {\n        fetchList(true, (teams, status) => {\n            if (status.isLoaded && status.error == null) {\n                let arr = [];\n                teams.map(\n                    (team) => {\n                        fetchMember(team.lead, (leader, status) => {\n                            team.lead = leader;\n                            arr.push(team);\n                            this.setState(\n                                {\n                                    teams: arr\n                                }\n                            );\n                        })\n                    }\n                );\n            }\n            this.setState(\n                {\n                    isLoaded: status.isLoaded,\n                    error: status.error\n                }\n            );\n        })\n    }\n\n    render() {\n        return (\n            <Grid className=\"container marketing\">\n                <DetailsModal showModal={this.state.showModal} dissmissModal={this.dissmissModalForDetails}\n                              details={this.state.team} members={this.state.members}\n                              isTeamPage={this.props.isTeamPage}/>\n                <Row>\n                    {\n                        this.state.teams.map((team) => (\n                            <div className=\"col-lg-4\" key={team.id}>\n                                <img className=\"rounded-circle\"\n                                     src=\"data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\"\n                                     alt=\"Team Image\" width=\"140\" height=\"140\"/>\n                                <h2>{team.name}</h2>\n                                <p>{team.lead}</p>\n                                <p><Button className=\"btn btn-secondary\" onClick={(ev) => {\n                                    this.showModalForDetails(ev, team.id)\n                                }}>Show Detail »</Button></p>\n                            </div>\n                        ))}\n                </Row>\n            </Grid>);\n    }\n\n}\n\nclass DetailsModal extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n\n    render() {\n\n        if (this.props.isTeamPage) {\n            return (\n                <div className={this.props.showModal ? 'display-block' : 'display-none'}>\n                    <Modal.Dialog>\n                        <Modal.Header>\n                            <Modal.Title>{this.props.details.name}</Modal.Title>\n                        </Modal.Header>\n\n                        <Modal.Body>\n                            <ul>\n                                <li><h4>Leader: {this.props.details.lead}</h4></li>\n                                <h6>Members:</h6>\n                                <ErrorBoundary>\n                                    <MembersForTeamDetails members={this.props.members}/>\n                                </ErrorBoundary>\n                            </ul>\n                        </Modal.Body>\n\n                        <Modal.Footer>\n                            <Button bsStyle=\"primary\" onClick={this.props.dissmissModal}>OK</Button>\n                        </Modal.Footer>\n                    </Modal.Dialog>\n                </div>\n            );\n        } else {\n\n            return (\n                <div className={this.props.showModal ? 'display-block' : 'display-none'}>\n                    <Modal.Dialog>\n                        <Modal.Header>\n                            <Modal.Title>{this.props.details.username}</Modal.Title>\n                        </Modal.Header>\n\n                        <Modal.Body>\n                            <ul>\n                                <h3>Name: {this.props.details.name}</h3>\n                                <h6>Teams:</h6>\n                                <ErrorBoundary>\n                                    <TeamsForMemberDetails teams={this.props.teams}/>\n                                </ErrorBoundary>\n                            </ul>\n                        </Modal.Body>\n\n                        <Modal.Footer>\n                            <Button bsStyle=\"primary\" onClick={this.props.dissmissModal}>OK</Button>\n                        </Modal.Footer>\n                    </Modal.Dialog>\n                </div>\n            );\n        }\n    }\n}\n\nclass TeamsForMemberDetails extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            list: []\n        };\n    }\n\n    render() {\n        return (\n            <div>\n                {this.props.teams.map(\n                    (team) => (\n                        <p key={team.id}>{team.name}</p>\n                    )\n                )}\n            </div>\n        );\n    }\n}\n\nclass MembersForTeamDetails extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            list: []\n        };\n    }\n\n    render() {\n        return (\n            <div>\n                {this.props.members.map(\n                    (member) => (\n                        <p key={member.id}>{member.name}</p>\n                    )\n                )}\n            </div>\n        );\n    }\n}\n\nclass ErrorBoundary extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {error: null, errorInfo: null};\n    }\n\n    componentDidCatch(error, errorInfo) {\n        // Catch errors in any components below and re-render with error message\n        this.setState({\n            error: error,\n            errorInfo: errorInfo\n        })\n        // You can also log error messages to an error reporting service here\n    }\n\n    render() {\n        if (this.state.errorInfo) {\n            // Error path\n            return (\n                <div>\n                    <h2>Something went wrong.</h2>\n                    <details style={{whiteSpace: 'pre-wrap'}}>\n                        {this.state.error && this.state.error.toString()}\n                        <br/>\n                        {this.state.errorInfo.componentStack}\n                    </details>\n                </div>\n            );\n        }\n        // Normally, just render children\n        return this.props.children;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}